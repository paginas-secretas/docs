<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="639px" preserveAspectRatio="none" style="width:1399px;height:639px;background:#FFFFFF;" version="1.1" viewBox="0 0 1399 639" width="1399px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="29.0679" id="_title" style="stroke:none;stroke-width:1.0;" width="219" x="589.25" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="209" x="594.25" y="29.9659">003 - View shared contacts list</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="30" x2="30" y1="124.1358" y2="556.314"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="229" x2="229" y1="124.1358" y2="556.314"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="475" x2="475" y1="124.1358" y2="556.314"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="894" x2="894" y1="124.1358" y2="556.314"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1313.5" x2="1313.5" y1="124.1358" y2="556.314"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="5" y="120.0339">Viewer</text><ellipse cx="30.5" cy="53.5679" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M30.5,61.5679 L30.5,88.5679 M17.5,69.5679 L43.5,69.5679 M30.5,88.5679 L17.5,103.5679 M30.5,88.5679 L43.5,103.5679 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="5" y="570.28">Viewer</text><ellipse cx="30.5" cy="582.882" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M30.5,590.882 L30.5,617.882 M17.5,598.882 L43.5,598.882 M30.5,617.882 L17.5,632.882 M30.5,617.882 L43.5,632.882 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F5FFFA" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69" x="195" y="90.0679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="202" y="112.0339">Browser</text><rect fill="#F5FFFA" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69" x="195" y="555.314"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="202" y="577.28">Browser</text><rect fill="#FFE4E1" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71" x="440" y="90.0679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="447" y="112.0339">Platform</text><rect fill="#FFE4E1" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71" x="440" y="555.314"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="447" y="577.28">Platform</text><rect fill="#DDA0DD" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="163" x="813" y="90.0679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="820" y="112.0339">Contacts Manager API</text><rect fill="#DDA0DD" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="163" x="813" y="555.314"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="820" y="577.28">Contacts Manager API</text><rect fill="#DDA0DD" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160" x="1233.5" y="90.0679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="1240.5" y="112.0339">Contacts Manager DB</text><rect fill="#DDA0DD" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160" x="1233.5" y="555.314"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="1240.5" y="577.28">Contacts Manager DB</text><polygon fill="#181818" points="217.5,153.8419,227.5,157.8419,217.5,161.8419,221.5,157.8419" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="30.5" x2="223.5" y1="157.8419" y2="157.8419"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="37.5" y="152.0328">Open shared contacts list link</text><polygon fill="#181818" points="463.5,185.5479,473.5,189.5479,463.5,193.5479,467.5,189.5479" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="229.5" x2="469.5" y1="189.5479" y2="189.5479"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222" x="236.5" y="183.7389">GET /&lt;contacts-document-reference&gt;</text><polygon fill="#181818" points="882.5,217.2539,892.5,221.2539,882.5,225.2539,886.5,221.2539" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="475.5" x2="888.5" y1="221.2539" y2="221.2539"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="278" x="482.5" y="215.4449">GET /contacts/&lt;contacts-document-reference&gt;</text><polygon fill="#181818" points="1301.5,248.9599,1311.5,252.9599,1301.5,256.9599,1305.5,252.9599" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="894.5" x2="1307.5" y1="252.9599" y2="252.9599"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="298" x="901.5" y="247.1509">Find encrypted contacts list with specific reference</text><polygon fill="#181818" points="905.5,280.6659,895.5,284.6659,905.5,288.6659,901.5,284.6659" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="899.5" x2="1312.5" y1="284.6659" y2="284.6659"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="395" x="911.5" y="278.8569">JSON { encrypted contacts list, encrypted (symmetric) private key }</text><polygon fill="#181818" points="486.5,312.3719,476.5,316.3719,486.5,320.3719,482.5,316.3719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="480.5" x2="893.5" y1="316.3719" y2="316.3719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="395" x="492.5" y="310.5629">JSON { encrypted contacts list, encrypted (symmetric) private key }</text><polygon fill="#181818" points="41.5,344.0779,31.5,348.0779,41.5,352.0779,37.5,348.0779" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="35.5" x2="474.5" y1="348.0779" y2="348.0779"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="47.5" y="342.2689">Renders private key prompt</text><polygon fill="#181818" points="463.5,375.784,473.5,379.784,463.5,383.784,467.5,379.784" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="30.5" x2="469.5" y1="379.784" y2="379.784"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="37.5" y="373.975">Inserts private key</text><polygon fill="#181818" points="240.5,407.49,230.5,411.49,240.5,415.49,236.5,411.49" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="234.5" x2="474.5" y1="411.49" y2="411.49"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="246.5" y="405.681">Decrypts symmetric private key</text><polygon fill="#181818" points="463.5,439.196,473.5,443.196,463.5,447.196,467.5,443.196" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="229.5" x2="469.5" y1="443.196" y2="443.196"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="236.5" y="437.387">Decrypted symmetric private key</text><polygon fill="#181818" points="240.5,470.902,230.5,474.902,240.5,478.902,236.5,474.902" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="234.5" x2="474.5" y1="474.902" y2="474.902"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="246.5" y="469.093">Decrypt encrypted contacts list</text><polygon fill="#181818" points="463.5,502.608,473.5,506.608,463.5,510.608,467.5,506.608" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="229.5" x2="469.5" y1="506.608" y2="506.608"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="236.5" y="500.799">Decrypted contacts list</text><polygon fill="#181818" points="41.5,534.314,31.5,538.314,41.5,542.314,37.5,538.314" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="35.5" x2="474.5" y1="538.314" y2="538.314"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="47.5" y="532.505">Render contacts list page</text><!--MD5=[35756bd2226820704979b390a6807330]
@startuml 003-view-shared-contacts-list

title "003 - View shared contacts list"

actor "Viewer" as User
participant Browser #MintCream
participant "Platform" as PL #MistyRose
participant "Contacts Manager API" as CNT #Plum
participant "Contacts Manager DB" as CNT_DB #Plum

User -> Browser: Open shared contacts list link
Browser -> PL: GET /<contacts-document-reference>
PL -> CNT: GET /contacts/<contacts-document-reference>
CNT -> CNT_DB: Find encrypted contacts list with specific reference
CNT_DB - -> CNT: JSON { encrypted contacts list, encrypted (symmetric) private key }
CNT - -> PL: JSON { encrypted contacts list, encrypted (symmetric) private key }

PL - -> User: Renders private key prompt
User -> PL: Inserts private key
PL -> Browser: Decrypts symmetric private key
Browser - -> PL: Decrypted symmetric private key

PL -> Browser: Decrypt encrypted contacts list
Browser - -> PL: Decrypted contacts list

PL - -> User: Render contacts list page

@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>